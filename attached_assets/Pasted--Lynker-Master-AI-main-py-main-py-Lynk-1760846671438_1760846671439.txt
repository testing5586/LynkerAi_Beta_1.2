ğŸ’¡ ä»»åŠ¡ï¼šå¸®æˆ‘åˆ›å»º Lynker Master AI ä¸»æ§å¼•æ“æ–‡ä»¶ `main.py`ï¼Œå¹¶æ•´åˆä¹‹å‰å®Œæˆçš„æ¨¡å—ã€‚

---

ğŸ“ æ–‡ä»¶ï¼šmain.py  
åŠŸèƒ½ç›®æ ‡ï¼š
- ä½œä¸º Lynker Master AI çš„ä¸»å…¥å£ï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ã€‚
- æ¨¡å—åŒ–è°ƒç”¨ï¼š
  - `supabase_init.py`ï¼šåˆå§‹åŒ–æ•°æ®åº“è¿æ¥ã€‚
  - `ai_truechart_verifier.py`ï¼šçœŸå‘½ç›˜éªŒè¯ã€‚
  - ï¼ˆé¢„ç•™ï¼‰`guru_apprentice.py`ï¼šå¸ˆå¾’ç³»ç»Ÿã€‚
  - ï¼ˆé¢„ç•™ï¼‰`soulmate_matcher.py`ï¼šåŒå‘½åŒ¹é…ç³»ç»Ÿã€‚
- ä½¿ç”¨ç»Ÿä¸€æ—¥å¿—ä¸ AI æƒé™æ£€æµ‹æœºåˆ¶ã€‚

---

ğŸ§© è¯·åˆ›å»ºä»¥ä¸‹ç»“æ„ä»£ç ï¼š

```python
# ============================================================
# Lynker Master AI ä¸»æ§å¼•æ“
# ============================================================

import os
import json
from datetime import datetime
from supabase_init import init_supabase
from ai_truechart_verifier import run_truechart_verifier  # å‡è®¾ verifier æ¨¡å—æœ‰ä¸€ä¸ª run_truechart_verifier() å‡½æ•°

# é¢„ç•™æœªæ¥æ¨¡å—æ¥å£
# from guru_apprentice import run_guru_apprentice
# from soulmate_matcher import run_soulmate_matcher

def log_event(event_type, data):
    """ç»Ÿä¸€æ—¥å¿—è®°å½•"""
    timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    log_entry = {"time": timestamp, "type": event_type, "data": data}
    with open("master_log.json", "a", encoding="utf-8") as f:
        f.write(json.dumps(log_entry, ensure_ascii=False) + "\n")
    print(f"ğŸª¶ Logged event â†’ {event_type}")

def main():
    print("ğŸš€ Starting Lynker Master AI Engine ...")

    # åˆå§‹åŒ– Supabase
    supabase = init_supabase()
    if supabase is None:
        print("âš ï¸ Supabase è¿æ¥å¤±è´¥ï¼Œä»…æœ¬åœ°è¿è¡Œã€‚")

    # ç”¨æˆ·èº«ä»½ç¤ºä¾‹
    user_id = os.getenv("LYNKER_USER_ID", "u_demo")

    # å¯åŠ¨å‘½ç›˜éªŒè¯æ¨¡å—
    print("\nğŸ” [1] æ­£åœ¨æ‰§è¡ŒçœŸå‘½ç›˜éªŒè¯æ¨¡å—...")
    verifier_result = run_truechart_verifier(user_id, supabase=supabase)
    log_event("truechart_verification", verifier_result)

    # æœªæ¥æ‰©å±•æ¥å£ï¼š
    # print("\nğŸ§™ [2] å¯åŠ¨å¸ˆå¾’ç³»ç»Ÿæ¨¡å—...")
    # apprentice_result = run_guru_apprentice(user_id, supabase)
    # log_event("guru_apprentice", apprentice_result)

    # print("\nğŸ’ [3] å¯åŠ¨åŒå‘½åŒ¹é…æ¨¡å—...")
    # match_result = run_soulmate_matcher(user_id, supabase)
    # log_event("soulmate_matching", match_result)

    print("\nâœ… Lynker Master AI å®Œæˆæ‰€æœ‰æ¨¡å—ä»»åŠ¡ã€‚")

if __name__ == "__main__":
    main()

åœ¨ã€Œä¸Šä¼ å…«å­—å‘½ç›˜ã€é‚£å—ä¸Šä¼ æ¡†ä¸Šæ–¹æ’å…¥ä»¥ä¸‹ HTMLï¼š

<div class="env-select-container">
  <label>ğŸŒ å‡ºç”Ÿåœ°ä¿¡æ¯ï¼š</label>
  <div class="row">
    <div class="col">
      <select id="countrySelect" class="form-select">
        <option value="">é€‰æ‹©å›½å®¶</option>
        <option value="MY">é©¬æ¥è¥¿äºš</option>
        <option value="CN">ä¸­å›½</option>
        <option value="JP">æ—¥æœ¬</option>
        <option value="TH">æ³°å›½</option>
        <option value="VN">è¶Šå—</option>
        <option value="KR">éŸ©å›½</option>
        <option value="SG">æ–°åŠ å¡</option>
      </select>
    </div>
    <div class="col">
      <select id="citySelect" class="form-select">
        <option value="">é€‰æ‹©åŸå¸‚</option>
      </select>
    </div>
  </div>

  <div class="row mt-2">
    <div class="col">
      <input type="text" id="latitude" class="form-control" placeholder="çº¬åº¦" readonly>
    </div>
    <div class="col">
      <input type="text" id="climate_zone" class="form-control" placeholder="æ°”å€™å¸¦" readonly>
    </div>
    <div class="col">
      <input type="text" id="humidity_type" class="form-control" placeholder="æ¹¿åº¦" readonly>
    </div>
    <div class="col">
      <input type="text" id="terrain_type" class="form-control" placeholder="åœ°å½¢" readonly>
    </div>
  </div>
</div>

âœ… Step 2ï¼šåœ¨é¡µé¢åº•éƒ¨å¯¼å…¥è‡ªåŠ¨è¡¥å…¨è„šæœ¬

ç¡®ä¿åœ¨æ–‡ä»¶åº•éƒ¨ï¼ˆ</body> å‰ï¼‰åŠ å…¥ï¼š

<script src="/static/js/auto_env_fill.js"></script>

âœ… Step 3ï¼šè‡ªåŠ¨åŠ è½½åŸå¸‚åˆ—è¡¨

åœ¨ auto_env_fill.js é‡Œè¡¥ä¸ŠåŸå¸‚æ˜ å°„é€»è¾‘ï¼ˆè¿åç«¯ /api/location_infoï¼‰ï¼š

const citiesByCountry = {
  "MY": ["å‰éš†å¡", "æ§ŸåŸ", "æ–°å±±"],
  "CN": ["åŒ—äº¬", "ä¸Šæµ·", "å¹¿å·", "æ·±åœ³"],
  "JP": ["ä¸œäº¬", "å¤§é˜ª", "äº¬éƒ½"],
  "TH": ["æ›¼è°·", "æ¸…è¿ˆ"],
  "VN": ["èƒ¡å¿—æ˜å¸‚", "æ²³å†…"],
  "KR": ["é¦–å°”", "é‡œå±±"],
  "SG": ["æ–°åŠ å¡"]
};

document.getElementById("countrySelect").addEventListener("change", function () {
  const country = this.value;
  const citySelect = document.getElementById("citySelect");
  citySelect.innerHTML = `<option value="">é€‰æ‹©åŸå¸‚</option>`;
  if (citiesByCountry[country]) {
    citiesByCountry[country].forEach(city => {
      const option = document.createElement("option");
      option.value = city;
      option.textContent = city;
      citySelect.appendChild(option);
    });
  }
});

document.getElementById("citySelect").addEventListener("change", async function () {
  const country = document.getElementById("countrySelect").value;
  const city = this.value;
  if (!country || !city) return;

  const res = await fetch(`/api/location_info?country=${country}&city=${city}`);
  const data = await res.json();
  document.getElementById("latitude").value = data.latitude;
  document.getElementById("climate_zone").value = data.climate_zone;
  document.getElementById("humidity_type").value = data.humidity_type;
  document.getElementById("terrain_type").value = data.terrain_type;
});
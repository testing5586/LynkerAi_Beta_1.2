<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å…«å­—åŒé¢‘æœç´¢ Â· çµå®¢AI</title>
    <link rel="stylesheet" href="{{ url_for('bazi.static', filename='css/common.css') }}?v=11" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
    <style>
        /* ModernMatch Pink-Purple Gradient Theme */
        body {
            background: linear-gradient(135deg, #0a0e1a 0%, #1a1f3a 100%);
            color: #f8fafc;
            font-family: 'Inter', sans-serif;
        }
        
        /* Primary buttons with pink gradient */
        .btn-primary {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%) !important;
            border: none !important;
            box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3) !important;
            border-radius: 12px;
            padding: 10px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #9333ea 0%, #db2777 100%) !important;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(168, 85, 247, 0.4) !important;
        }
        
        /* Badges and pills */
        .badge,
        .algo-badge {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%) !important;
            color: #ffffff !important;
            border: none !important;
            border-radius: 20px;
            padding: 6px 14px;
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        /* Score numbers in gradient text */
        .text-primary,
        .match-score,
        h6.text-primary {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%) !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            background-clip: text !important;
            font-weight: 700;
        }
        
        /* Tab active state */
        .tab-item.active {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%) !important;
            color: #ffffff !important;
        }
        
        /* Cards and containers */
        .user-profile-card,
        .leaderboard-card,
        .filter-panel,
        .match-card {
            background: #0f1628;
            border: 1px solid #1e293b;
            border-radius: 16px;
        }
        
        /* Form elements */
        input[type="checkbox"] {
            accent-color: #ec4899 !important;
            width: 18px;
            height: 18px;
        }
        
        /* Leaderboard items hover */
        .leaderboard-item:hover,
        .match-card:hover {
            background: rgba(168, 85, 247, 0.05);
            border-color: rgba(168, 85, 247, 0.2);
            transform: translateY(-2px);
        }
    </style>
    <script>
        const API_BASE = "{{ url_for('bazi.index') }}".replace(/\/$/, '');
    </script>
</head>

<body>

    <div class="layout-container">

        <!-- å·¦ä¾§è¾¹æ ï¼šæ ¸å¿ƒä¿¡æ¯åŒº -->
        <aside class="sidebar">

            <!-- 1. é«˜äº®ç”¨æˆ·å‘½ç›˜å¡ (æ–°è®¾è®¡) -->
            <div class="user-profile-card">
                <div class="profile-user-info">
                    <div class="user-avatar-large">
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=200&auto=format&fit=crop"
                            alt="User Avatar" id="userAvatar">
                    </div>
                    <div class="user-name" id="userName">æ ·æ¿äººA</div>
                    <div class="user-uid" id="userUid">UID: è‡ªå®šä¹‰</div>
                </div>

                <div class="profile-header">CURRENT CHART</div>

                <div class="profile-item">
                    <div class="profile-label">å‡ºç”Ÿæ—¶é—´</div>
                    <div class="profile-value" id="birthTime">2000-03-20 08:18</div>
                </div>

                <div class="profile-item">
                    <div class="profile-label">å…«å­—æ’ç›˜</div>
                    <div class="profile-value" id="baziCode">åºšè¾° æˆŠå¯… ä¸æœª å£¬å­</div>
                </div>

                <a href="/bazi/birth-input" class="btn-primary">
                    é‡æ–°è¾“å…¥å‡ºç”Ÿæ—¶é—´
                </a>
            </div>

            <!-- 2. åŒæ¦œåˆ‡æ¢æ’è¡Œæ¦œ -->
            <div class="leaderboard-card">
                <div class="section-title">
                    åŒé¢‘æ’è¡Œæ¦œ
                    <span id="algoBadge" class="algo-badge bazi">BaziMatchAgent</span>
                </div>

                <div class="leaderboard-tabs">
                    <div class="tab-item" onclick="switchLeaderboard('time')" id="tab-time">ğŸ”® ç°ä»£æ—¶é—´æ¦œ</div>
                    <div class="tab-item active" onclick="switchLeaderboard('bazi')" id="tab-bazi">ğŸ§˜â€â™‚ï¸ å…«å­—åŒé¢‘æ¦œ</div>
                </div>

                <div id="leaderboardDesc" class="leaderboard-desc">
                    æœ¬æ¦œåŸºäºä¼ ç»Ÿå…«å­—å››æŸ±ç³»ç»ŸåŒ¹é…ï¼Œä¸é‡‡ç”¨ç°ä»£ç§’çº§æ—¶é—´ç®—æ³•ã€‚
                </div>

                <div id="weight-version" class="weight-tag" style="display:none"></div>
                <div id="leaderboardList" class="leaderboard-list">
                    <div class="loading">åŠ è½½ä¸­...</div>
                </div>
            </div>

        </aside>

        <!-- å³ä¾§ä¸»å†…å®¹åŒº -->
        <main class="main-content">

            <div class="page-header">
                <h1>åŒå‘½åŒ¹é… Â· å…«å­—åŒé¢‘æœç´¢</h1>
                <p class="desc">åŸºäºå¤©å¹²åœ°æ”¯ç»“æ„çš„çµé­‚çº§åŒ¹é…å¼•æ“</p>
            </div>

            <!-- ç­›é€‰æ§åˆ¶é¢æ¿ -->
            <div class="filter-panel">
                <!-- è¯„åˆ†ä½“ç³»è¯´æ˜ -->
                <div
                    style="background:#fef3c7;border-left:4px solid #f59e0b;padding:12px 16px;margin-bottom:16px;border-radius:8px;font-size:13px;color:#92400e;">
                    <strong>ğŸ“Œ è¯„åˆ†è¯´æ˜</strong><br>
                    æ­¤è¯„åˆ†é‡‡ç”¨ä¼ ç»Ÿå…«å­—åŒ¹é…ä½“ç³»ï¼ˆå¹´20åˆ† â†’ å¹´æœˆ40åˆ† â†’ å¹´æœˆæ—¥70åˆ† â†’ å¹´æœˆæ—¥æ—¶100åˆ†ï¼‰ï¼Œä»…åœ¨å››æŸ±å®Œå…¨ä¸€è‡´æ—¶è§†ä¸ºçœŸæ­£"åŒå‘½"ã€‚<br>
                    é«˜é˜¶æ—¶é—´é¢‘ç‡åŒ¹é…è¯·ä½¿ç”¨<a href="{{ url_for('bazi.index') }}"
                        style="color:#b45309;text-decoration:underline;">ã€Œæ—¶é—´åŒé¢‘æœç´¢ã€</a>æ¨¡å—ã€‚
                </div>

                <div id="filter-status" class="filter-status">
                    è¶…çº§åŒé¢‘æ¨¡å¼ï¼š8 é¡¹å…¨åŒ¹é…
                </div>

                <div class="filter-section">
                    <div style="font-size:12px;color:#64748b;margin-bottom:12px;">ç­›é€‰æ¡ä»¶ï¼ˆå¯è‡ªå®šä¹‰ï¼‰</div>
                    <div id="bazi-criteria" class="match-criteria-bar"></div>
                </div>
            </div>

            <!-- åŒ¹é…ç»“æœåˆ—è¡¨ -->
            <div id="matchList" class="list"></div>

        </main>

    </div>

    <script src="{{ url_for('bazi.static', filename='js/bazimatch.js') }}?v=12"></script>

</body>

</html>

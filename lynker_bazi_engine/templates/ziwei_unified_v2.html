<!DOCTYPE html>
<html lang="en">
{% extends "base_dark.html" %}

{% block title %}ç´«å¾®æ–—æ•° Â· å‘½ç›˜ç»“æ„åŒ¹é…{% endblock %}

{% block ranking_title %}ç´«å¾®ç»“æ„æ’è¡Œæ¦œ ğŸ†{% endblock %}

{% block ranking_tabs %}
  <button class="lk-pill lk-pill-active">å‘½ç›˜ç»“æ„æ¦œ</button>
{% endblock %}

{% block ranking_desc %}
æ ¹æ®å‘½å®«ã€èº«å®«ã€ç¦å¾·å®«ç­‰å…³é”®å®«ä½ä¸ä¸»æ˜Ÿç»„åˆç»“æ„è¿›è¡ŒåŒ¹é…ï¼Œä»…ä¾›ç ”ç©¶ä¸å‚è€ƒã€‚
{% endblock %}

{% block ranking_list %}
  {% for item in leaderboard %}
  <div class="lk-ranking-item">
    <div class="lk-ranking-medal">No.{{ loop.index }}</div>
    <div class="lk-ranking-info">
      <div class="lk-ranking-name">çµå‹ #{{ item.friend_id }}</div>
      <div class="lk-ranking-meta">
        åŒ¹é… {{ item.match_count }} æ¬¡ Â· éªŒè¯ {{ item.verify_count }} æ¬¡
      </div>
    </div>
    <div class="lk-ranking-score">
      {{ item.final_score|default(0) }}<span class="lk-score-unit">%</span>
    </div>
  </div>
  {% endfor %}
{% endblock %}

{% block main_title %}ç´«å¾®æ–—æ•° Â· å‘½ç›˜ç»“æ„åŒ¹é…{% endblock %}

{% block main_subtitle %}
åŸºäºå‘½å®«ã€èº«å®«ä¸åäºŒå®«ä¸»æ˜Ÿç»„åˆçš„ç»“æ„ç›¸ä¼¼åº¦åŒ¹é…ï¼Œç”¨äºå¯»æ‰¾"ç›˜å‹ç›¸è¿‘"çš„çµå‹ã€‚
{% endblock %}

{% block content %}
    
  <!-- è¿™é‡Œä½ å¯ä»¥åŠ ä¸€ä¸ªå®«ä½ç®€ç•¥å›¾ / ç»Ÿè®¡è¯´æ˜ï¼›å…ˆä¿æŒå’Œå‰ä¸¤ä¸ªä¸€è‡´ç»“æ„ -->
  <section class="lk-banner">
    <div class="lk-banner-icon">ğŸ’¡</div>
    <div class="lk-banner-body">
      <div class="lk-banner-title">ç»“æ„åŒ¹é…è¯´æ˜</div>
      <div class="lk-banner-text">
        æ­¤å¤„åªæ¯”è¾ƒç´«å¾®æ–—æ•°ç›˜çš„"ç»“æ„"ï¼Œä¸è€ƒè™‘æµå¹´å¤§é™ä¸å½“å‰è¿åŠ¿ã€‚é€‚åˆå¯»æ‰¾ç›˜å‹ç›¸è¿‘çš„çµå‹ï¼Œç”¨äºç»éªŒåˆ†äº«ä¸å…±åŒéªŒè¯ã€‚
      </div>
    </div>
  </section>

  <!-- ä½ åé¢æ ¹æ®ç´«å¾®ç»“æ„è®¾è®¡ç­›é€‰ Pillï¼Œæ¯”å¦‚ï¼šåŒå‘½å®«ç³»ã€åŒèº«å®«ã€åŒä¸»æ˜Ÿç»„åˆç­‰ -->
  <section class="lk-filter-bar">
    <div class="lk-filter-label">ç­›é€‰æ¡ä»¶ï¼ˆå¯è‡ªå®šä¹‰ï¼‰</div>
    <div class="lk-filter-pills">
      <!-- é¢„ç•™ -->
      <button class="lk-pill lk-pill-active">é»˜è®¤ç»“æ„åŒ¹é…</button>
    </div>
  </section>

  <section class="lk-results">
    {% for match in matches %}
    <article class="lk-match-card">
      <div class="lk-match-header">
        <div class="lk-match-title">
          çµå‹ #{{ match.friend_id }}
        </div>
        <div class="lk-match-score-badge">
          {{ match.score }}% ç»“æ„ç›¸ä¼¼
        </div>
      </div>

      <div class="lk-match-meta">
        <span class="lk-match-meta-label">å‘½ç›˜æ‘˜è¦ï¼š</span>
        <span class="lk-match-meta-value">
          {{ match.summary|default("å‘½å®«å¤©åºœ Â· èº«å®«åŒè½ Â· ç¦å¾·æ­¦è´ª") }}
        </span>
      </div>

      <div class="lk-match-tags">
        {% for tag in match.tags %}
          <span class="lk-tag">{{ tag }}</span>
        {% endfor %}
      </div>

      <div class="lk-match-footer">
        <button class="lk-btn lk-btn-primary"
                onclick="window.location.href='{{ url_for('ziwei.ziwei_detail', friend_id=match.friend_id) }}'">
          æŸ¥çœ‹å‘½ç›˜
        </button>
        <button class="lk-btn lk-btn-ghost">
          æ‰“æ‹›å‘¼
        </button>
      </div>
    </article>
    {% else %}
      <div class="lk-empty">æš‚æ— åŒ¹é…ç»“æœã€‚</div>
    {% endfor %}
  </section>

{% endblock %}
